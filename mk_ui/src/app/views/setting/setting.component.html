<div *ngIf="loader" class="spinner">
    <div class="rect1"></div>
    <div class="rect2"></div>
    <div class="rect3"></div>
    <div class="rect4"></div>
    <div class="rect5"></div>
</div>
<section class="format-layout">
    <div class="row setting-body">
        <div class="col-md-4"></div>
        <div class="col-md-4 text-center">
            <h2 class="text-center">Setting</h2>
            <ul *ngFor="let item of data">
                <li class="pointer" value="{{item.code}}" (click)="showDetailSetting(item.code)">{{item.text}}</li>
            </ul>
        </div>
        <div class="col-md-4"></div>
    </div>

    <!-- Modal -->
    <div bsModal #reminderPopup="bs-modal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Reminder</h4>
                    <button type="button" class="close" (click)="reminderPopup.hide()">&times;</button>
                </div>
                <div class="modal-body text-center">
                    <div class="form-group">
                        <img class="img-reminder" src="../../../assets/img/reminder.png" />
                    </div>
                    <div class="form-group">
                        Hệ thống sẽ gửi thông báo nhắc bạn nhập dữ liệu thu chi mỗi ngày.
                    </div>
                    <hr/>
                    <div class="form-group row">
                        <div class="col-md-6">
                            Reminder
                        </div>
                        <div class="col-md-6">
                            <label class="switch">
                                <input type="checkbox" [checked]="reminder.status" name="status" #status="ngModel" [(ngModel)]="reminder.status">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group row" *ngIf="reminder.status">
                        <div class="col-md-6">Time</div>
                        <div class="col-md-6 top-time-picker">
                            <timepicker [(ngModel)]="reminder.time" [showMeridian]="ismeridian" name="time" ng-model-options="{standalone: true}" (ngModelChange)="changeTime()"></timepicker>
                            <span *ngIf="isTime" class="k-widget k-tooltip k-tooltip-validation k-invalid-msg field-validation-error">
                                <i class="fa fa-exclamation-triangle"></i> Invalid time!
                            </span>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-3"> </div>
                        <div class="col-md-6">
                            <button type="button" class="btn btn-success btn-block" (click)="saveReminder()">OK</button>
                        </div>
                        <div class="col-md-3"> </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div bsModal #currencyPopup="bs-modal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Currency</h4>
                    <button type="button" class="close" (click)="currencyPopup.hide()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <input type="text" class="form-control" [(ngModel)]="searchCurrency" placeholder="Search.." />
                        <div class="my-contains">
                            <div *ngFor="let i of dataCurrency | filterSetting: searchCurrency" class="row each-row">
                                <div class="col-md-2">
                                    <img height='40px' src="{{ apiURL + i.value + '.png' }}" />
                                </div>
                                <div class="col-md-8">{{ i.text }}</div>
                                <div class="col-md-2">
                                    <input type="radio" *ngIf="i.value === dataCurrency.value; else elseCurrency" [(ngModel)]="dataCurrency.value" name="currency" checked value="{{ i.value }}" />
                                    <ng-template #elseCurrency>
                                        <input type="radio" name="currency" [(ngModel)]="dataCurrency.value" value="{{ i.value }}" />
                                    </ng-template>
                                    {{ i.value }}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-md-3"> </div>
                            <div class="col-md-6">
                                <button type="button" class="btn btn-success btn-block" (click)="saveCurrency()">OK</button>
                            </div>
                            <div class="col-md-3"> </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div bsModal #loginAuthenPopup="bs-modal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Login Authentication</h4>
                    <button type="button" class="close" (click)="loginAuthenPopup.hide()">&times;</button>
                </div>
                <div class="modal-body text-center">
                    <div class="form-group">
                        <img class="img-login-authen" src="../../../assets/img/login_authen.png" />
                    </div>
                    <hr/>
                    <div class="form-group row">
                        <div class="col-md-6">
                            On / Off
                        </div>
                        <div class="col-md-6">
                            <label class="switch">
                                <input type="checkbox" [checked]="loginAuthen.status" name="loginAuthenstatus" #loginAuthenstatus="ngModel" [(ngModel)]="loginAuthen.status">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group row" *ngIf="loginAuthen.status">
                        <div class="col-md-6">
                            Authentication type
                        </div>
                        <div class="col-md-6">
                            <select id="loginAuthenType" name="loginAuthenType" #loginAuthenType="ngModel" [(ngModel)]="loginAuthen.type" class="form-control">
                                <option value="">-- Please Select --</option>
                                <option value="OTP">OTP</option>
                                <option value="TOKEN">TOKEN</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-3"> </div>
                        <div class="col-md-6">
                            <button type="button" class="btn btn-success btn-block" (click)="saveLoginAuthen()">OK</button>
                        </div>
                        <div class="col-md-3"> </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div bsModal #tranAuthenPopup="bs-modal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Login Authentication</h4>
                    <button type="button" class="close" (click)="tranAuthenPopup.hide()">&times;</button>
                </div>
                <div class="modal-body text-center">
                    <div class="form-group">
                        <img class="img-login-authen" src="../../../assets/img/tran_authen.jpg" />
                    </div>
                    <hr/>
                    <div class="form-group row">
                        <div class="col-md-6">
                            On / Off
                        </div>
                        <div class="col-md-6">
                            <label class="switch">
                                <input type="checkbox" [checked]="tranAuthen.status" name="tranAuthenStatus" #tranAuthenStatus="ngModel" [(ngModel)]="tranAuthen.status">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group row" *ngIf="tranAuthen.status">
                        <div class="col-md-6">
                            Authentication type
                        </div>
                        <div class="col-md-6">
                            <select id="tranAuthenType" name="tranAuthenType" #tranAuthenType="ngModel" [(ngModel)]="tranAuthen.type" class="form-control">
                                <option value="OTP">OTP</option>
                                <option value="TOKEN">TOKEN</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-3"> </div>
                        <div class="col-md-6">
                            <button type="button" class="btn btn-success btn-block" (click)="saveTranAuthen()">OK</button>
                        </div>
                        <div class="col-md-3"> </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div bsModal #lockPopup="bs-modal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Lock</h4>
                    <button type="button" class="close" (click)="lockPopup.hide()">&times;</button>
                </div>
                <div class="modal-body text-center">
                    <div class="form-group">
                        <img class="img-login-authen" src="../../../assets/img/lock.png" />
                    </div>
                    <hr/>
                    <div class="form-group row">
                        <div class="col-md-6">
                            Lock
                        </div>
                        <div class="col-md-6">
                            <label class="switch">
                                <input type="checkbox" [checked]="lock.status" name="lockStatus" #lockStatus="ngModel" [(ngModel)]="lock.status">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-md-3"> </div>
                        <div class="col-md-6">
                            <button type="button" class="btn btn-success btn-block" (click)="saveLock()">OK</button>
                        </div>
                        <div class="col-md-3"> </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>